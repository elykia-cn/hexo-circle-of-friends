<h1>api接口说明</h1>
<h2>/all</h2>
<p><strong>描述：</strong></p>
<p>返回数据库统计信息和文章信息列表。</p>
<p><strong>请求方式:  GET</strong></p>
<p><strong>请求参数说明：</strong></p>

































<table><thead><tr><th align="left">字段名</th><th align="left">字段说明</th><th align="left">字段类型</th><th>默认值</th><th align="left">是否必填</th></tr></thead><tbody><tr><td align="left">start</td><td align="left">文章信息列表从 按rule排序后的顺序 的开始位置</td><td align="left">integer</td><td>0</td><td align="left">否</td></tr><tr><td align="left">end</td><td align="left">文章信息列表从 按rule排序后的顺序 的结束位置</td><td align="left">integer</td><td>-1</td><td align="left">否</td></tr><tr><td align="left">rule</td><td align="left">文章排序规则（创建时间created/更新时间updated）</td><td align="left">string</td><td>updated</td><td align="left">否</td></tr></tbody></table>
<h2>/friend</h2>
<p><strong>描述：</strong></p>
<p>返回数据库所有友链</p>
<p><strong>请求方式:  GET</strong></p>
<p><strong>请求参数说明：</strong></p>
<p>无参数。</p>
<h2>/randomfriend</h2>
<p><strong>描述：</strong></p>
<p>从数据库随机返回指定个数个友链</p>
<p><strong>请求方式:  GET</strong></p>
<p><strong>请求参数说明：</strong></p>



















<table><thead><tr><th align="left">字段名</th><th align="left">字段说明</th><th align="left">字段类型</th><th>默认值</th><th align="left">是否必填</th></tr></thead><tbody><tr><td align="left">num</td><td align="left">返回num个友链信息</td><td align="left">integer</td><td>1</td><td align="left">否</td></tr></tbody></table>
<h2>/randompost</h2>
<p><strong>描述：</strong></p>
<p>随机返回指定个数篇文章信息</p>
<p><strong>请求方式:  GET</strong></p>
<p><strong>请求参数说明：</strong></p>



















<table><thead><tr><th align="left">字段名</th><th align="left">字段说明</th><th align="left">字段类型</th><th>默认值</th><th align="left">是否必填</th></tr></thead><tbody><tr><td align="left">num</td><td align="left">返回num篇文章信息</td><td align="left">integer</td><td>1</td><td align="left">否</td></tr></tbody></table>
<h2>/post</h2>
<p><strong>描述：</strong></p>
<p>指定一个链接，返回该链接的数据库内文章信息列表</p>
<p><strong>请求方式:  GET</strong></p>
<p><strong>请求参数说明：</strong></p>

































<table><thead><tr><th align="left">字段名</th><th align="left">字段说明</th><th align="left">字段类型</th><th>默认值</th><th align="left">是否必填</th></tr></thead><tbody><tr><td align="left">link</td><td align="left">链接地址，如果为None，则随机返回一个友链的文章</td><td align="left">string</td><td>None</td><td align="left">否</td></tr><tr><td align="left">num</td><td align="left">指定链接的文章信息列表 按rule排序后的顺序的前num篇</td><td align="left">integer</td><td>-1</td><td align="left">否</td></tr><tr><td align="left">rule</td><td align="left">文章排序规则（创建时间created/更新时间updated）</td><td align="left">string</td><td>created</td><td align="left">否</td></tr></tbody></table>
<h2>/friendstatus</h2>
<p><strong>描述：</strong></p>
<p>按照指定时间划分失联/未失联的友链信息，默认距离今天2个月以上（60天以上）判定为失联友链。判断逻辑是根据数据库中保存的文章进行判断，比如：某个友链在数据库中<strong>没有保存任何一篇</strong>文章，则会将其归类为失联友链。</p>
<p><strong>请求方式:  GET</strong></p>
<p><strong>请求参数说明：</strong></p>



















<table><thead><tr><th align="left">字段名</th><th align="left">字段说明</th><th align="left">字段类型</th><th>默认值</th><th align="left">是否必填</th></tr></thead><tbody><tr><td align="left">days</td><td align="left">天数，默认为60天，取自配置文件中的<code>OUTDATE_CLEAN</code></td><td align="left">integer</td><td>60</td><td align="left">否</td></tr></tbody></table>
<h2>/postjson</h2>
<p><strong>描述：</strong></p>
<p>获取<strong>公共库</strong>中指定链接列表的文章信息列表</p>
<p><strong>请求方式:  GET</strong></p>
<p><strong>请求参数说明：</strong></p>








































<table><thead><tr><th align="left">字段名</th><th align="left">字段说明</th><th align="left">字段类型</th><th>默认值</th><th align="left">是否必填</th></tr></thead><tbody><tr><td align="left">jsonlink</td><td align="left">友链链接json的cdn地址</td><td align="left">string</td><td></td><td align="left"><strong>是</strong></td></tr><tr><td align="left">start</td><td align="left">文章信息列表从 按rule排序后的顺序 的开始位置</td><td align="left">integer</td><td>0</td><td align="left">否</td></tr><tr><td align="left">end</td><td align="left">文章信息列表从 按rule排序后的顺序 的结束位置</td><td align="left">integer</td><td>-1</td><td align="left">否</td></tr><tr><td align="left">rule</td><td align="left">文章排序规则（创建时间created/更新时间updated）</td><td align="left">string</td><td>updated</td><td align="left">否</td></tr></tbody></table>
<h2>/version</h2>
<p><strong>描述：</strong></p>
<p>获取当前版本号以及最新版本号。</p>
<p><strong>请求方式:  GET</strong></p>
<p><strong>请求参数说明：</strong></p>
<p>无参数。</p>
<p><strong>返回格式说明</strong>：</p>





















<table><thead><tr><th align="left">字段名</th><th align="left">字段说明</th></tr></thead><tbody><tr><td align="left">status</td><td align="left">版本状态，0：不需要更新；1：需要更新；2：检查更新失败</td></tr><tr><td align="left">current_version</td><td align="left">当前版本号</td></tr><tr><td align="left">latest_version</td><td align="left">最新版本号</td></tr></tbody></table>
